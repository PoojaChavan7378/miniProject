<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
	<title>Add Products</title>
	<link rel="stylesheet" href="css/sellerDashboard.css">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="fonts/fontawesome5-overrides.min.css">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0/css/select2.min.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0/js/select2.min.js"></script>
</head>

<body id="page-top">
	<%- include("partials/sellerHeader") -%>
	<div class="container-fluid">
		<div class="d-sm-flex justify-content-between align-items-center mb-4">
			<h3 class="text-dark mb-0">Add Product</h3>
		</div>

		<!-- form started -->

		<form id="main-form" class="multisteps-form__form needs-validation" method="POST" action="/addproduct" enctype="multipart/form-data" novalidate>
			<div id="single-form-next" class="multisteps-form__panel shadow p-4 rounded bg-white js-active" data-animation="scaleIn">

				<div id="form-content" class="multisteps-form__content">
					<div class="row g-3">

						<div class="col-md-6 first-page-valid">
							<label for="inputState" class="form-label">Category</label>
							<select id="inputState" name="pCategory" class="form-select onChangeCategory" required>
								<option selected>Choose...</option>
							</select>
						</div>

						<div class="col-md-6 first-page-valid">
							<label for="inputState2" class="form-label">Sub Category</label>
							<select id="inputState2" name="pSubCategory" class="form-select">
							</select>
						</div>

						<div class="col-md-6 first-page-valid">
							<label for="inputEmail4" class="form-label">Brand</label>
							<input type="text" name="pBrand" class="form-control" required>
							<div class="invalid-feedback">Brand cannot be blank</div>
						</div>

						<div class="col-md-6 first-page-valid">
							<label for="inputEmail4" class="form-label">Product Name</label>
							<input type="text" name="pName" class="form-control" required>
								<div class="invalid-feedback">Name cannot be blank</div>
						</div>

						<div class="col-md-12 first-page-valid">
							<label for="inputEmail4" class="form-label">Description</label>
							<textarea type="text" name="pDescription" class="form-control" required maxlength="500"></textarea>
							<div class="invalid-feedback">Description cannot be blank</div>
						</div>
						<div class="col-sm-6 col-md-6 col-xl-6 clothesSize">
							<div class="form-group">
								<label for="clothesSize" class="form-label">Sizes Available</label>
                    <select name="clothesSize" id="clothesSize" class="mul-select" multiple="true">
                        <option value="18">18</option>
                        <option value="20">20</option>
												<option value="22">22</option>
												<option value="24">24</option>
												<option value="26">26</option>
												<option value="28">28</option>
												<option value="30">30</option>
												<option value="32">32</option>
												<option value="34">34</option>
												<option value="36">36</option>
												<option value="38">38</option>
												<option value="40">40</option>
												<option value="42">42</option>
												<option value="44">44</option>
												<option value="46">46</option>
                    </select>
							</div>
           </div>
					 <div class="col-sm-6 col-md-6 col-xl-6 shoesSize">
						 <div class="form-group">
							 <label for="shoesSize" class="form-label">Sizes (C = Child)</label>
									 <select name="shoesSize" id="shoesSize" class="mul-select" multiple="true">
											 <option value="6C">6C</option>
										   <option value="7C">7C</option>
											 <option value="8C">8C</option>
											 <option value="9C">9C</option>
											 <option value="10C">10C</option>
											 <option value="11C">11C</option>
											 <option value="12C">12C</option>
											 <option value="13C">13C</option>
											 <option value="1">1</option>
											 <option value="2">2</option>
											 <option value="3">3</option>
											 <option value="4">4</option>
											 <option value="5">5</option>
											 <option value="6">6</option>
											 <option value="7">7</option>
											 <option value="8">8</option>
											 <option value="9">9</option>
											 <option value="10">10</option>
											 <option value="11">11</option>
											 <option value="12">12</option>
									 </select>
						 </div>
					</div>
						<div class="col-md-6 first-page-valid">
							<label for="inputEmail4" class="form-label">MRP(₹)</label>
							<input type="text" name="pMRP" class="form-control" pattern="[0-9.]*" required>
							<div class="invalid-feedback">Must contain numeric value only</div>
						</div>
						<div class="col-md-6 first-page-valid">
							<label for="inputEmail4" class="form-label">Your Price(₹)</label>
							<input type="text" name="pPrice" class="form-control" pattern="[0-9.]*" required>
							<div class="invalid-feedback">Must contain numeric value only</div>
						</div>
						<div class="col-md-6 first-page-valid">
							<label for="inputEmail4" class="form-label">Quantity Avaliable</label>
							<input type="text" name="pQuantity" class="form-control" pattern="[0-9]*" required>
							<div class="invalid-feedback">Must contain digits value only</div>
						</div>
						<div class="col-md-6">
							<label for="formFile" class="form-label">Product Image</label>
							<input class="form-control" name="product_photo" type="file" id="formFile" required>
							<div class="invalid-feedback">Pick a valid image of Max size 2MB.</div>
						</div>
						<div class="col-md-6 first-page-valid">
							<label for="inputEmail4" class="form-label">Can you provide delivery of this products?</label>
							<br>
							<div class="form-check form-check-inline">
								<input class="form-check-input onChangeDeliverY" name="pDelivery" type="radio" value="Y" required>
								<label class="form-check-label" for="inlineRadio1">Yes</label>
							</div>
							<div class="form-check form-check-inline">
								<input class="form-check-input onChangeDeliverN" name="pDelivery" type="radio" value="N" required>
								<label class="form-check-label" for="inlineRadio2">No</label>
							</div>
						</div>
						<div class="col-md-6 first-page-valid">
							<div class="DeliveryCharges">
							<label for="pDeliveryCharges" class="form-label">Delivery Charges(₹)</label>
							<input type="text" id="pDeliveryCharges" name="pDeliveryCharges" value=0 pattern="[0-9]*" class="form-control">
							<!-- <p style="margin-top:0%; color:grey;font-size:1rem;">*If multiple products are ordered (from your store) then maximum of delivery charge from ordered products will be considered.</p> -->
						</div>
						</div>
						<div class="button-row d-flex mt-4"><button class="btn btn btn-primary ml-auto js-btn-next" type="submit" title="">Submit</button>
						</div>
					</div>
				</div>
			</div>
	</div>

	<!-- form ended -->


	<footer class="bg-white sticky-footer">
		<div class="container my-auto">
			<div class="text-center my-auto copyright"><span>Copyright © CornerKart 2021</span></div>
		</div>
	</footer>
	</div><a class="border rounded d-inline scroll-to-top" href="#page-top"><i class="fas fa-angle-up"></i></a>
	</div>



	<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.0-beta3/js/bootstrap.bundle.min.js"></script>
	<script src="theme.js"></script>
  <script type="text/javascript">
  $(document).ready(function(){
  $.ajax({
      url : "/getCategory",
      type : "GET",
      success : function(data){
          var len = data.length;
          console.log(data);
					// $("#inputState").empty();
          for(var i =0; i<len;i++){
          var value2 = data[i]['catId'];
          var value1 = data[i]['catName'];
              $("#inputState").append("<option value='"+value2+"' >"+value1+"</option>");
          }
      }
  });
});
  $("#inputState").change(function(){
    var catId = $("#inputState").val()
  $.ajax({
      url : "/getSubCategory/"+catId,
      type : "GET",
      success : function(data){
        console.log("asas "+catId);
        console.log("asasd "+data);
          var len = data.length;
					$("#inputState2").empty();
					$("#inputState2").append("<option selected value="+-1+"></option>");
          for(var i =0; i<len;i++){
          var value2 = data[i]['subCatId'];
          var value1 = data[i]['subCatName'];
              $("#inputState2").append("<option value='"+value2+"' >"+value1+"</option>");
          }
      }
  });
});
  </script>
	<script>
        $(document).ready(function(){
            $(".mul-select").select2({
                    placeholder: "Select sizes", //placeholder
                    tags: true,
                    tokenSeparators: ['/',',',';'," "]
                });
            })
    </script>
		<script type="text/javascript">
		$(document).ready(function(){
			$(".clothesSize").attr("style","display:none;");
			$(".shoesSize").attr("style","display:none;");
			$(".DeliveryCharges").attr("style","display:none;");
			$(".onChangeCategory").on("change", function(){
				var cat = $(this).val();
				if (cat==2000001){
					$(".clothesSize").attr("style","display:flex;");
					$(".shoesSize").attr("style","display:none;");
				}else if(cat==2000003){
					$(".shoesSize").attr("style","display:flex;");
					$(".clothesSize").attr("style","display:none;");
				}else{
					$(".clothesSize").attr("style","display:none;");
					$(".shoesSize").attr("style","display:none;");
				}
			});
			$(".onChangeDeliverY").on("change", function(){
				var delY = $(this).val();
				if(delY =="Y"){
					$(".DeliveryCharges").attr("style","display:block;");
				}else{
					$(".DeliveryCharges").attr("style","display:none;");
				}
			});
			$(".onChangeDeliverN").on("change", function(){
				var delN = $(this).val();
				if(delN =="N"){
					$(".DeliveryCharges").attr("style","display:none;");
				}
			});
		});
		</script>
		<script>
		  // Example starter JavaScript for disabling form submissions if there are invalid fields
		  (function () {
		    'use strict'

		    // Fetch all the forms we want to apply custom Bootstrap validation styles to
		    var forms = document.querySelectorAll('.needs-validation')

		    // Loop over them and prevent submission
		    Array.prototype.slice.call(forms)
		      .forEach(function (form) {
		        form.addEventListener('submit', function (event) {
		          if (!form.checkValidity()) {
		            event.preventDefault()
		            event.stopPropagation()
		          }

		          form.classList.add('was-validated')
		        }, false)
		      })
		  })()
		</script>
</body>

</html>
